**æ–¹æ³•ä¸€ï¼šæšä¸¾**

æˆ‘ä»¬ç›´æ¥æšä¸¾ $[1,..n]$ ä¸­çš„æ¯ä¸€ä¸ªæ•° $x$ï¼Œå¦‚æœ $x$ èƒ½è¢« $3$, $5$, $7$ æ•´é™¤ï¼Œé‚£ä¹ˆå°±å°† $x$ ç´¯åŠ åˆ°ç­”æ¡ˆä¸­ã€‚

æšä¸¾ç»“æŸåï¼Œè¿”å›ç­”æ¡ˆå³å¯ã€‚

* [sol1-Python3]

```python
class Solution:
    def sumOfMultiples(self, n: int) -> int:
        return sum(x for x in range(1, n + 1) if x % 3 == 0 or x % 5 == 0 or x % 7 == 0)
```

* [sol1-Java]

```java
class Solution {
    public int sumOfMultiples(int n) {
        int ans = 0;
        for (int x = 1; x <= n; ++x) {
            if (x % 3 == 0 || x % 5 == 0 || x % 7 == 0) {
                ans += x;
            }
        }
        return ans;
    }
}
```

* [sol1-C++]

```cpp
class Solution {
public:
    int sumOfMultiples(int n) {
        int ans = 0;
        for (int x = 1; x <= n; ++x) {
            if (x % 3 == 0 || x % 5 == 0 || x % 7 == 0) {
                ans += x;
            }
        }
        return ans;
    }
};
```

* [sol1-Go]

```go
func sumOfMultiples(n int) (ans int) {
	for x := 1; x <= n; x++ {
		if x%3 == 0 || x%5 == 0 || x%7 == 0 {
			ans += x
		}
	}
	return
}
```

* [sol1-Rust]

```rust
impl Solution {
    pub fn sum_of_multiples(n: i32) -> i32 {
        (1..=n)
            .filter(|&x| x % 3 == 0 || x % 5 == 0 || x % 7 == 0)
            .sum()
    }
}
```

* [sol1-TypeScript]

```ts
function sumOfMultiples(n: number): number {
    let ans = 0;
    for (let x = 1; x <= n; ++x) {
        if (x % 3 === 0 || x % 5 === 0 || x % 7 === 0) {
            ans += x;
        }
    }
    return ans;
}
```

æ—¶é—´å¤æ‚åº¦ $O(n)$ï¼Œå…¶ä¸­ $n$ ä¸ºé¢˜ç›®ç»™å®šçš„æ•´æ•°ã€‚ç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚

-----

**æ–¹æ³•äºŒï¼šæ•°å­¦ï¼ˆå®¹æ–¥åŸç†ï¼‰**

æˆ‘ä»¬å®šä¹‰å‡½æ•° $f(x)$ è¡¨ç¤º $[1,..n]$ ä¸­èƒ½è¢« $x$ æ•´é™¤çš„æ•°ä¹‹å’Œï¼Œé‚£ä¹ˆä¸€å…±æœ‰ $m = \left\lfloor \frac{n}{x} \right\rfloor$ ä¸ªæ•°èƒ½è¢« $x$ æ•´é™¤ï¼Œè¿™äº›æ•°å­—åˆ†åˆ«ä¸º $x$, $2x$, $3x$, $\cdots$, $mx$ï¼Œæ„æˆä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œé¦–é¡¹ä¸º $x$ï¼Œæœ«é¡¹ä¸º $mx$ï¼Œé¡¹æ•°ä¸º $m$ï¼Œå› æ­¤ $f(x) = \frac{(x + mx) \times m}{2}$ã€‚

æ ¹æ®å®¹æ–¥åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç­”æ¡ˆä¸ºï¼š

$$
f(3) + f(5) + f(7) - f(3 \times 5) - f(3 \times 7) - f(5 \times 7) + f(3 \times 5 \times 7)
$$

* [sol2-Python3]

```python
class Solution:
    def sumOfMultiples(self, n: int) -> int:
        def f(x: int) -> int:
            m = n // x
            return (x + m * x) * m // 2

        return f(3) + f(5) + f(7) - f(3 * 5) - f(3 * 7) - f(5 * 7) + f(3 * 5 * 7)
```

* [sol2-Java]

```java
class Solution {
    private int n;

    public int sumOfMultiples(int n) {
        this.n = n;
        return f(3) + f(5) + f(7) - f(3 * 5) - f(3 * 7) - f(5 * 7) + f(3 * 5 * 7);
    }

    private int f(int x) {
        int m = n / x;
        return (x + m * x) * m / 2;
    }
}
```

* [sol2-C++]

```cpp
class Solution {
public:
    int sumOfMultiples(int n) {
        auto f = [&](int x) {
            int m = n / x;
            return (x + m * x) * m / 2;
        };
        return f(3) + f(5) + f(7) - f(3 * 5) - f(3 * 7) - f(5 * 7) + f(3 * 5 * 7);
    }
};
```

* [sol2-Go]

```go
func sumOfMultiples(n int) int {
	f := func(x int) int {
		m := n / x
		return (x + m*x) * m / 2
	}
	return f(3) + f(5) + f(7) - f(3*5) - f(3*7) - f(5*7) + f(3*5*7)
}
```

* [sol2-Rust]

```rust
impl Solution {
    pub fn sum_of_multiples(n: i32) -> i32 {
        fn f(x: i32, n: i32) -> i32 {
            let m = n / x;
            (x + m * x) * m / 2
        }

        f(3, n) + f(5, n) + f(7, n) - f(3 * 5, n) - f(3 * 7, n) - f(5 * 7, n) + f(3 * 5 * 7, n)
    }
}
```

* [sol2-TypeScript]

```ts
function sumOfMultiples(n: number): number {
    const f = (x: number): number => {
        const m = Math.floor(n / x);
        return ((x + m * x) * m) >> 1;
    };
    return f(3) + f(5) + f(7) - f(3 * 5) - f(3 * 7) - f(5 * 7) + f(3 * 5 * 7);
}
```

æ—¶é—´å¤æ‚åº¦ $O(1)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(1)$ã€‚

---

æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµï¼Œæ¬¢è¿è¯„è®ºåŒºæä¾›å…¶å®ƒè§£é¢˜æ€è·¯ï¼ˆä»£ç ï¼‰ï¼Œä¹Ÿå¯ä»¥ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ä½œè€…å“ˆğŸ˜„~
